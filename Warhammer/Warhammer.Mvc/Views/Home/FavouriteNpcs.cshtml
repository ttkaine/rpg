@model Warhammer.Mvc.Models.MyFavNpcModel


    <h3>My Favourite NPCs</h3>

    @if (ViewBag.EditMode)
    {
        using (Ajax.BeginForm("UpdateFavNpc", "Home", new AjaxOptions { InsertionMode = InsertionMode.Replace, HttpMethod = "Post", UpdateTargetId = "favNpcBlock" }))
        {
            <table class="table table-striped">

                @if (Model.First == null)
                {
                    <tr><td colspan="2">No favourite NPC set</td></tr>
                }
                else
                {
                    @Html.DisplayFor(m => Model.First)
                }
                @if (Model.Second == null)
                {
                    <tr><td colspan="2">No second favourite NPC set</td></tr>
                }
                else
                {
                    @Html.DisplayFor(m => Model.Second)
                }
                @if (Model.Third == null)
                {
                    <tr><td colspan="2">No third favourite NPC set</td></tr>
                }
                else
                {
                    @Html.DisplayFor(m => Model.Third)
                }

            </table>

            <span>First Favourite</span>
            @Html.DropDownListFor(m => Model.FirstId, Model.ChooseFirstNpcList)
            <span>Second Favourite</span>
            @Html.DropDownListFor(m => Model.SecondId, Model.ChooseSecondNpcList)
            <span>Third Favourite</span>
            @Html.DropDownListFor(m => Model.ThirdId, Model.ChooseThirdNpcList)
            <span>Nemisis</span>
            @Html.DropDownListFor(m => Model.NemisisId, Model.ChooseNemisisNpcList)

            <input type="submit" value="Set Favourites" class="btn btn-block btn-success"/>
        }
    }
    else
    {
        <table class="table table-striped">
            
            @if (Model.First == null)
            {
                <tr><td colspan="2">No favourite NPC selected - go into edit mode and choose one!</td></tr>
            }
            else
            {
                @Html.DisplayFor(m => Model.First)
            }
            @if (Model.Second == null)
            {
                <tr><td colspan="2">No second favourite NPC selected - go into edit mode and choose one!</td></tr>
            }
            else
            {
                @Html.DisplayFor(m => Model.Second)
            }
            @if (Model.Third == null)
            {
                <tr><td colspan="2">No third favourite NPC selected - go into edit mode and choose one!</td></tr>
            }
            else
            {
                @Html.DisplayFor(m => Model.Third)
            }
            @if (Model.Nemisis == null)
            {
                <tr><td colspan="2">No Nemisis NPC selected - go into edit mode and choose one!</td></tr>
            }
            else
            {
                @Html.DisplayFor(m => Model.Nemisis)
            }

        </table>
    }


@using Warhammer.Core.Extensions
@model Warhammer.Mvc.Models.EditDateViewModel

<div class="panel panel-info date-panel">
    @using (Html.BeginForm("UpdateGameDate", "Page", FormMethod.Post))
    {
        @Html.HiddenFor(m => Model.PageId)
        
        <div id="divDisplayDate" class="panel panel-info">
            <div class="panel-heading">@Model.Title</div>
            <div class="panel-body">The @Model.DisplayDate.ToWarhammerDateString()</div>
            <div class="panel-footer">@Model.DisplayDate.ToRealDateString()</div>
        </div>
        <div id="divEditDate" class="panel panel-info" style="display: none;">
            <div class="panel-heading">Edit @Model.Title</div>
            <div class="panel-body">
                @Html.EditorFor(model => Model.EditableDate, new { htmlAttributes = new { @class = "form-control" } })
            </div>
        </div>
        <div class="panel-button">
            <button id="btnShowEditDate" class="edit-date-button btn btn-success" type="button" onclick="showEditDate();">Edit @Model.Title</button>
            <button id="btnSubmitDate" class="edit-date-button btn btn-success" type="submit" style="display: none;">Update</button>
        </div>
    }
</div>

<script type="text/javascript">
    function showEditDate()
    {
        $("#divDisplayDate").slideUp(400);
        $("#divEditDate").slideDown(400);
        $("#btnShowEditDate").css("display", "none");
        $("#btnSubmitDate").css("display", "block");
    }
</script>